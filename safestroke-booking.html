<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Your Swim Lessons | SafeStroke Swim Academy - Free Trial Available</title>
    <meta name="description" content="Book your swim lessons at SafeStroke. Free trial lesson available. Small groups, certified instructors. Choose from packages or single lessons.">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <meta name="stripe-public-key" content="pk_test_51S4UnDPRIIfaJZnp1eF8ZlFCD74YDhIU0LVsu3oX3RAy58FBARnucYobBFWf2Wr0wBTZ7smsb1br4ySd2PcfZN4m00oGXz5yQn">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Outfit', sans-serif; color: #00253D; }
        .dark-section { 
            background-color: #00253D; 
            color: white;
            background-image: radial-gradient(circle at top left, rgba(34, 132, 184, 0.1) 0%, transparent 30%);
        }
        .brand-blue { color: #2284B8; }
        .brand-blue-bg { background-color: #2284B8; }
        .nav-link { transition: color 0.3s; position: relative; }
        .nav-link.active { font-weight: 700; color: #2284B8; }
        .nav-link:not(.active):hover { color: #2284B8; }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #2284B8;
            transition: width 0.3s ease-in-out;
        }
        .nav-link:hover::after, .nav-link.active::after {
            width: 100%;
        }
        .step-indicator {
            transition: all 0.3s ease-in-out;
        }
        .step-indicator.active {
            background-color: #2284B8;
            color: white;
        }
        .step-indicator.completed {
            background-color: #0369A1;
            color: white;
        }
        #payment-element {
            margin: 20px 0;
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Top Bar -->
    <div class="dark-section text-white text-center py-2 text-sm font-medium tracking-wider">
        199 Scoles Ave, Clifton NJ | <a href="tel:973-820-1153" class="font-bold hover:underline">Call or Text 973-820-1153</a>
    </div>

    <!-- Header -->
    <nav class="bg-white sticky top-0 z-50 shadow-md">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <!-- Logo (Left) -->
            <div class="flex-shrink-0">
                <a href="index.html" class="flex items-center">
                    <img src="safestroke-images/safestroke_logo.png" alt="SafeStroke Logo" class="h-10 w-auto">
                </a>
            </div>

            <!-- Centered Navigation Links for Desktop -->
            <div class="hidden md:flex flex-grow justify-center items-center space-x-8 font-semibold">
                <a href="index.html" class="nav-link">Main</a>
                <a href="safestroke-programs.html" class="nav-link">Programs</a>
                <a href="safestroke-pricing.html" class="nav-link">Pricing</a>
                <a href="safestroke-aboutus.html" class="nav-link">About Us</a>
                <a href="safestroke-reviews.html" class="nav-link">Reviews</a>
                <a href="safestroke-location.html" class="nav-link">Our Location</a>
            </div>
            
            <!-- Book Now Button (Right, Desktop) -->
            <div class="hidden md:flex flex-shrink-0">
                <a href="safestroke-booking.html" class="brand-blue-bg hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full text-md transition duration-300 transform hover:scale-105 shadow-sm">Book Now</a>
            </div>

            <!-- Mobile Menu Button -->
            <div class="md:hidden flex items-center">
                <button id="mobile-menu-button" class="text-gray-800 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="md:hidden hidden bg-white px-6 pb-4 border-t border-gray-100">
            <a href="index.html" class="block py-2 text-gray-800">Main</a>
            <a href="safestroke-programs.html" class="block py-2 text-gray-800">Programs</a>
            <a href="safestroke-pricing.html" class="block py-2 text-gray-800">Pricing</a>
            <a href="safestroke-aboutus.html" class="block py-2 text-gray-800">About Us</a>
            <a href="safestroke-reviews.html" class="block py-2 text-gray-800">Reviews</a>
            <a href="safestroke-location.html" class="block py-2 text-gray-800">Our Location</a>
            <div class="mt-4 pt-4 border-t">
                 <a href="safestroke-booking.html" class="block w-full text-center brand-blue-bg hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-full text-md transition duration-300">Book Now</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="py-24">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h1 class="text-5xl md:text-6xl font-black">Book Your Lessons</h1>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto mt-4">Follow the simple steps below to purchase a package or schedule your next lesson.</p>
                <!-- Trust Badges -->
                <div class="flex flex-wrap justify-center gap-4 mt-6">
                    <span class="inline-flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm font-semibold">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>
                        Secure Checkout
                    </span>
                    <span class="inline-flex items-center gap-2 bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-semibold">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Money Back Guarantee
                    </span>
                    <span class="inline-flex items-center gap-2 bg-purple-100 text-purple-800 px-4 py-2 rounded-full text-sm font-semibold">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        Instant Confirmation
                    </span>
                </div>
            </div>

            <!-- Path Selection -->
            <div class="max-w-4xl mx-auto">
                <!-- Path 1: For Existing Customers with a Code -->
                <div id="existing-customer-path" class="bg-white p-8 rounded-xl shadow-lg border border-gray-100 mb-12">
                    <h2 class="text-2xl font-bold mb-4 text-center">Already have a package code?</h2>
                    <p class="text-center text-gray-600 mb-6">Enter your code below to schedule your pre-paid lessons.</p>
                    <div class="flex flex-col sm:flex-row items-center gap-4 max-w-lg mx-auto">
                        <input type="text" id="package-code-input" placeholder="Enter your code here..." class="w-full px-4 py-3 border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button id="schedule-with-code-btn" class="w-full sm:w-auto brand-blue-bg hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300 flex-shrink-0">Schedule</button>
                    </div>
                    <p id="code-error-message" class="text-red-600 text-center mt-4 hidden"></p>
                </div>

                <!-- Path 2: For New Customers - Choose Option -->
                <div id="new-customer-path" class="bg-white p-8 rounded-xl shadow-lg border border-gray-100">
                    <h2 class="text-2xl font-bold mb-8 text-center">New to SafeStroke? Choose Your Option</h2>
                    
                    <!-- Option Selection -->
                    <div id="booking-options" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <!-- Single Lesson Option -->
                        <div onclick="startSingleLessonFlow()" class="cursor-pointer bg-gradient-to-br from-green-50 to-blue-50 p-6 rounded-xl border-2 border-green-300 hover:border-green-500 transition-all hover:shadow-lg">
                            <div class="text-center">
                                <div class="text-4xl mb-3">üèä</div>
                                <h3 class="text-xl font-bold mb-2">Book a Single Lesson</h3>
                                <p class="text-gray-600 mb-3">Perfect for trying us out or scheduling individual lessons</p>
                                <div class="bg-white rounded-lg p-3 mb-3">
                                    <p class="text-sm text-gray-500">Starting from</p>
                                    <p class="text-2xl font-bold brand-blue">$30 - $45</p>
                                    <p class="text-xs text-gray-500">per lesson</p>
                                </div>
                                <div class="bg-green-100 text-green-700 text-sm font-semibold py-2 px-4 rounded-full inline-block">
                                    ‚ú® Try FIRST-FREE code for new students!
                                </div>
                            </div>
                        </div>
                        
                        <!-- Package Option -->
                        <div onclick="startPackageFlow()" class="cursor-pointer bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-xl border-2 border-blue-300 hover:border-blue-500 transition-all hover:shadow-lg">
                            <div class="text-center">
                                <div class="text-4xl mb-3">üì¶</div>
                                <h3 class="text-xl font-bold mb-2">Purchase a Package</h3>
                                <p class="text-gray-600 mb-3">Best value for regular lessons with discounted rates</p>
                                <div class="bg-white rounded-lg p-3 mb-3">
                                    <p class="text-sm text-gray-500">Packages of</p>
                                    <p class="text-2xl font-bold brand-blue">4, 6, or 8 lessons</p>
                                    <p class="text-xs text-gray-500">Save up to 30%</p>
                                </div>
                                <div class="bg-blue-100 text-blue-700 text-sm font-semibold py-2 px-4 rounded-full inline-block">
                                    üí∞ Better value for multiple lessons
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Package Purchase Flow (Hidden by default) -->
                <div id="package-flow" class="hidden bg-white p-8 rounded-xl shadow-lg border border-gray-100 mt-8">
                    <h2 class="text-2xl font-bold mb-8 text-center">Purchase a Lesson Package</h2>
                    <!-- Step Indicators -->
                    <div class="flex justify-center items-center space-x-4 md:space-x-8 mb-12">
                        <div id="step-1-indicator" class="step-indicator active bg-blue-100 text-blue-800 font-bold py-2 px-6 rounded-full">Step 1: Choose Program</div>
                        <div id="step-2-indicator" class="step-indicator bg-gray-200 text-gray-500 font-bold py-2 px-6 rounded-full">Step 2: Select Package</div>
                        <div id="step-3-indicator" class="step-indicator bg-gray-200 text-gray-500 font-bold py-2 px-6 rounded-full">Step 3: Payment</div>
                        <div id="step-4-indicator" class="step-indicator bg-gray-200 text-gray-500 font-bold py-2 px-6 rounded-full">Step 4: Book</div>
                    </div>

                    <!-- Step 1: Program Selection -->
                    <div id="step-1">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div class="step-card group text-center p-6 bg-gray-50 rounded-lg border-2 border-transparent hover:border-blue-500 hover:bg-white cursor-pointer transition duration-300" data-program-name="Droplet">
                                <div class="mx-auto mb-4">
                                    <!-- Droplet Shield Icon -->
                                    <svg class="w-16 h-16 mx-auto" viewBox="0 0 200 200" fill="none">
                                        <path d="M100 10 C100 10, 170 35, 170 35 L170 140 C170 140, 100 190, 100 190 C100 190, 30 140, 30 140 L30 35 C30 35, 100 10, 100 10 Z" fill="#5B9FD8"/>
                                        <path d="M100 60 C100 60, 75 85, 75 110 C75 125, 85 135, 100 135 C115 135, 125 125, 125 110 C125 85, 100 60, 100 60 Z" fill="white"/>
                                    </svg>
                                </div>
                                <h3 class="text-2xl font-bold">Droplet</h3>
                                <p class="text-gray-600 font-semibold">Ages 3-24 months</p>
                                <div class="mt-2 bg-blue-50 border border-blue-200 rounded-lg p-2">
                                    <p class="text-xs text-blue-700 font-medium">‚ö†Ô∏è Must be 3+ months old</p>
                                    <p class="text-xs text-blue-600">Parent required in water</p>
                                </div>
                            </div>
                            <div class="step-card group text-center p-6 bg-gray-50 rounded-lg border-2 border-transparent hover:border-blue-500 hover:bg-white cursor-pointer transition duration-300" data-program-name="Splashlet">
                                <div class="mx-auto mb-4">
                                    <!-- Three Droplets Shield Icon -->
                                    <svg class="w-16 h-16 mx-auto" viewBox="0 0 200 200" fill="none">
                                        <path d="M100 10 C100 10, 170 35, 170 35 L170 140 C170 140, 100 190, 100 190 C100 190, 30 140, 30 140 L30 35 C30 35, 100 10, 100 10 Z" fill="#5B9FD8"/>
                                        <path d="M100 50 C100 50, 88 62, 88 75 C88 83, 94 89, 100 89 C106 89, 112 83, 112 75 C112 62, 100 50, 100 50 Z" fill="white"/>
                                        <path d="M70 90 C70 90, 58 102, 58 115 C58 123, 64 129, 70 129 C76 129, 82 123, 82 115 C82 102, 70 90, 70 90 Z" fill="white"/>
                                        <path d="M130 90 C130 90, 118 102, 118 115 C118 123, 124 129, 130 129 C136 129, 142 123, 142 115 C142 102, 130 90, 130 90 Z" fill="white"/>
                                    </svg>
                                </div>
                                <h3 class="text-2xl font-bold">Splashlet</h3>
                                <p class="text-gray-600 font-semibold">Ages 2-3 years</p>
                                <div class="mt-2 bg-green-50 border border-green-200 rounded-lg p-2">
                                    <p class="text-xs text-green-700 font-medium">‚ö†Ô∏è Must be 2+ years old</p>
                                    <p class="text-xs text-green-600">Parent participation varies</p>
                                </div>
                            </div>
                            <div class="step-card group text-center p-6 bg-gray-50 rounded-lg border-2 border-transparent hover:border-blue-500 hover:bg-white cursor-pointer transition duration-300" data-program-name="Strokelet">
                                <div class="mx-auto mb-4">
                                    <!-- Wave Shield Icon -->
                                    <svg class="w-16 h-16 mx-auto" viewBox="0 0 200 200" fill="none">
                                        <path d="M100 10 C100 10, 170 35, 170 35 L170 140 C170 140, 100 190, 100 190 C100 190, 30 140, 30 140 L30 35 C30 35, 100 10, 100 10 Z" fill="#5B9FD8"/>
                                        <path d="M45 110 C45 110, 45 75, 70 75 C95 75, 95 110, 120 110 C145 110, 145 75, 155 75 L155 125 C155 125, 145 125, 120 125 C95 125, 95 90, 70 90 C45 90, 45 125, 45 125 Z" fill="white"/>
                                    </svg>
                                </div>
                                <h3 class="text-2xl font-bold">Strokelet</h3>
                                <p class="text-gray-600 font-semibold">Ages 3-12 years</p>
                                <div class="mt-2 bg-purple-50 border border-purple-200 rounded-lg p-2">
                                    <p class="text-xs text-purple-700 font-medium">‚ö†Ô∏è Must be 3+ years old</p>
                                    <p class="text-xs text-purple-600">Independent swim lessons</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Package Selection -->
                    <div id="step-2" class="hidden">
                        <div id="package-container" class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                            <!-- Package cards will be rendered here by JavaScript -->
                        </div>
                        <div class="text-center mt-8">
                            <button id="back-to-programs" class="text-gray-600 hover:text-blue-500 font-semibold">&larr; Go Back</button>
                        </div>
                    </div>

                    <!-- Step 3: Payment -->
                    <div id="payment-section" class="hidden">
                        <div class="max-w-md mx-auto">
                            <div id="payment-summary" class="mb-8">
                                <!-- Payment summary will be shown here -->
                            </div>
                            
                            <form id="payment-form">
                                <div id="payment-element">
                                    <!-- Stripe payment form will go here -->
                                </div>
                                <div class="mt-8 text-center">
                                    <button type="submit" id="pay-button" class="brand-blue-bg hover:bg-blue-600 text-white font-bold py-4 px-12 rounded-full text-xl transition duration-300 transform hover:scale-105 shadow-lg">
                                        Complete Payment
                                    </button>
                                </div>
                            </form>
                            
                            <div class="text-center mt-6">
                                <button id="back-to-packages" class="text-gray-600 hover:text-blue-500 font-semibold">&larr; Back to Packages</button>
                            </div>
                        </div>
                    </div>

                    <!-- Step 4: Success & Booking -->
                    <div id="success-section" class="hidden text-center">
                        <div class="bg-green-100 text-green-800 p-8 rounded-xl mb-8">
                            <h3 class="text-2xl font-bold mb-4">Payment Successful!</h3>
                            <p class="text-lg mb-4">Your package code is:</p>
                            <div class="bg-white p-4 rounded-lg border-2 border-green-300">
                                <span id="package-code-display" class="text-3xl font-bold brand-blue">Loading...</span>
                            </div>
                            <p class="text-sm mt-4">Save this code - you'll need it to book your lessons!</p>
                        </div>
                        
                        <div class="text-center">
                            <h4 class="text-xl font-bold mb-4">Ready to book your first lesson?</h4>
                            <button id="book-now-btn" class="brand-blue-bg hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300">
                                Book Your Lessons Now
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Single Lesson Flow (Hidden by default) -->
                <div id="single-lesson-flow" class="hidden bg-white p-8 rounded-xl shadow-lg border border-gray-100 mt-8">
                    <h2 class="text-2xl font-bold mb-8 text-center">Book a Single Lesson</h2>
                    
                    <!-- Single Lesson Step 1: Choose Program -->
                    <div id="single-step-1">
                        <h3 class="text-lg font-semibold mb-4 text-center">Step 1: Choose Your Program</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                            <div onclick="selectSingleLessonProgram('Droplet')" class="cursor-pointer text-center p-6 bg-gray-50 rounded-lg border-2 border-transparent hover:border-blue-500 hover:bg-white transition duration-300">
                                <div class="mx-auto mb-4">
                                    <!-- Droplet Shield Icon -->
                                    <svg class="w-16 h-16 mx-auto" viewBox="0 0 100 100" fill="none">
                                        <path d="M50 5 L85 25 L85 70 L50 95 L15 70 L15 25 Z" fill="#5B9FD8" stroke="#5B9FD8" stroke-width="2"/>
                                        <path d="M50 30 C50 30, 40 40, 40 50 C40 55, 45 60, 50 60 C55 60, 60 55, 60 50 C60 40, 50 30, 50 30 Z" fill="white"/>
                                    </svg>
                                </div>
                                <h4 class="text-xl font-bold">Droplet</h4>
                                <p class="text-gray-600">Ages 3-24 months</p>
                                <div id="droplet-price" class="mt-2">
                                    <p class="text-2xl font-bold brand-blue">$30</p>
                                    <p class="text-sm text-gray-500">per lesson</p>
                                </div>
                            </div>
                            <div onclick="selectSingleLessonProgram('Splashlet')" class="cursor-pointer text-center p-6 bg-gray-50 rounded-lg border-2 border-transparent hover:border-blue-500 hover:bg-white transition duration-300">
                                <div class="mx-auto mb-4">
                                    <!-- Three Droplets Shield Icon -->
                                    <svg class="w-16 h-16 mx-auto" viewBox="0 0 100 100" fill="none">
                                        <path d="M50 5 L85 25 L85 70 L50 95 L15 70 L15 25 Z" fill="#5B9FD8" stroke="#5B9FD8" stroke-width="2"/>
                                        <path d="M50 20 C50 20, 45 25, 45 30 C45 32.5, 47.5 35, 50 35 C52.5 35, 55 32.5, 55 30 C55 25, 50 20, 50 20 Z" fill="white"/>
                                        <path d="M35 40 C35 40, 30 45, 30 50 C30 52.5, 32.5 55, 35 55 C37.5 55, 40 52.5, 40 50 C40 45, 35 40, 35 40 Z" fill="white"/>
                                        <path d="M65 40 C65 40, 60 45, 60 50 C60 52.5, 62.5 55, 65 55 C67.5 55, 70 52.5, 70 50 C70 45, 65 40, 65 40 Z" fill="white"/>
                                    </svg>
                                </div>
                                <h4 class="text-xl font-bold">Splashlet</h4>
                                <p class="text-gray-600">Ages 2-3 years</p>
                                <div id="splashlet-price" class="mt-2">
                                    <p class="text-2xl font-bold brand-blue">$40</p>
                                    <p class="text-sm text-gray-500">per lesson</p>
                                </div>
                            </div>
                            <div onclick="selectSingleLessonProgram('Strokelet')" class="cursor-pointer text-center p-6 bg-gray-50 rounded-lg border-2 border-transparent hover:border-blue-500 hover:bg-white transition duration-300">
                                <div class="mx-auto mb-4">
                                    <!-- Wave Shield Icon -->
                                    <svg class="w-16 h-16 mx-auto" viewBox="0 0 100 100" fill="none">
                                        <path d="M50 5 L85 25 L85 70 L50 95 L15 70 L15 25 Z" fill="#5B9FD8" stroke="#5B9FD8" stroke-width="2"/>
                                        <path d="M20 45 Q30 35, 40 45 T60 45 T80 45" stroke="white" stroke-width="3" fill="none"/>
                                        <path d="M20 55 Q30 45, 40 55 T60 55 T80 55" stroke="white" stroke-width="3" fill="none"/>
                                    </svg>
                                </div>
                                <h4 class="text-xl font-bold">Strokelet</h4>
                                <p class="text-gray-600">Ages 3-12 years</p>
                                <div id="strokelet-price" class="mt-2">
                                    <p class="text-2xl font-bold brand-blue">$45</p>
                                    <p class="text-sm text-gray-500">per lesson</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Promo Code Section -->
                        <div class="max-w-md mx-auto bg-green-50 p-4 rounded-lg">
                            <p class="text-sm font-semibold text-gray-700 mb-2">Have a promo code?</p>
                            <div class="flex gap-2">
                                <input type="text" id="single-promo-input" placeholder="Enter code (e.g., FIRST-FREE)" 
                                       class="flex-1 px-3 py-2 border border-gray-300 rounded-lg">
                                <button onclick="applySingleLessonPromo()" 
                                        class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold">
                                    Apply
                                </button>
                            </div>
                            <div id="single-promo-message" class="text-sm mt-2 hidden"></div>
                        </div>
                        
                        <div class="text-center mt-6">
                            <button onclick="backToOptions()" class="text-gray-600 hover:text-blue-500 font-semibold">&larr; Back to Options</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calendar, Form, and Confirmation Sections (for scheduling with code) -->
            <div id="calendar-section" class="hidden max-w-4xl mx-auto mt-12">
                 <h2 id="calendar-title" class="text-3xl font-bold text-center mb-8"></h2>
                 <div id="calendar-loading" class="text-center">
                    <p class="text-lg text-gray-600">Checking your code and finding available times...</p>
                 </div>
                 <div id="calendar-container" class="hidden"></div>
            </div>

            <div id="form-section" class="hidden max-w-lg mx-auto mt-12 bg-white p-8 rounded-xl shadow-lg border">
                <h2 class="text-3xl font-bold text-center mb-8">Confirm Your Details</h2>
                
                <!-- Child Birthday Verification Section -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                    <h3 class="text-lg font-semibold text-blue-800 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" /></svg>
                        Child's Birthday (Required)
                    </h3>
                    <div class="mb-3">
                        <label for="child-birthday" class="block text-sm font-medium text-gray-700 mb-2">
                            Please enter your child's date of birth to verify program eligibility
                        </label>
                        <input type="date" id="child-birthday" name="child-birthday" required 
                               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div id="age-verification-result" class="hidden">
                        <!-- Age verification results will appear here -->
                    </div>
                    <p class="text-xs text-blue-600">
                        We verify your child's age to ensure they're enrolled in the appropriate program for their development and safety.
                    </p>
                </div>
                
                <div id="form-container"></div>
            </div>

            <div id="confirmation-message" class="hidden max-w-2xl mx-auto mt-12 bg-green-100 text-green-800 p-8 rounded-xl shadow-lg text-center">
                <h2 class="text-3xl font-bold mb-4">Booking Confirmed!</h2>
                <p class="text-lg">Your lesson is scheduled. We've sent a confirmation email with all the details. We can't wait to see you at the pool!</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="dark-section pt-16 pb-8">
        <div class="container mx-auto px-6 text-center text-white">
            <a href="index.html">
                <img src="safestroke-images/safestroke_logo.png" alt="SafeStroke Logo" class="h-12 w-auto mx-auto mb-6 opacity-90">
            </a>
            <div class="flex justify-center space-x-6 md:space-x-8 my-8 font-semibold">
                <a href="index.html" class="hover:text-blue-300 transition">Main</a>
                <a href="safestroke-programs.html" class="hover:text-blue-300 transition">Programs</a>
                <a href="safestroke-pricing.html" class="hover:text-blue-300 transition">Pricing</a>
                <a href="safestroke-location.html" class="hover:text-blue-300 transition">Location</a>
            </div>
            <p class="text-sm opacity-70">&copy; 2025 SafeStroke Swim Academy. All Rights Reserved.</p>
            <p class="text-sm opacity-70 mt-2">199 Scoles Avenue, Clifton, NJ 07012</p>
        </div>
    </footer>
    
    <script src="booking-system-v2.js"></script>
</body>
</html>
